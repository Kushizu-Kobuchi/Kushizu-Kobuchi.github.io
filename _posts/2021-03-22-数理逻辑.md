---
title: 扩散模型
date : 2021-03-22 13:05:41 +0800
categories: [数学, 基础数学]
tags: [数学, 逻辑学]
math: true
---

<!-- TOC -->

- [命题逻辑](#命题逻辑)
  - [命题逻辑的语言](#命题逻辑的语言)
  - [真值指派](#真值指派)
  - [命题逻辑的一个推演系统](#命题逻辑的一个推演系统)
  - [命题逻辑的可靠性定理与完全性定理](#命题逻辑的可靠性定理与完全性定理)
- [一阶逻辑和形式证明](#一阶逻辑和形式证明)
  - [一阶逻辑的语言的定义](#一阶逻辑的语言的定义)
  - [一阶逻辑的一个公理系统](#一阶逻辑的一个公理系统)

<!-- /TOC -->

## 命题逻辑

### 命题逻辑的语言

古典命题逻辑的语言包括：
- 可数多个命题符号：$A_0, A_1, A_2, \cdots$。
- 5个联词：否定符号$\neg$、合取符号$\wedge$、析取符号$\vee$、蕴含符号$\rightarrow$、双蕴含符号$\leftrightarrow$。
- 括号：左括号“(”和右括号“)”。

**合式公式**由如下规则自定义：
- 每个命题符号$A_i$都是合式公式；
- 如果$\alpha$和$\beta$都是合式公式，那么$(\neg\alpha)$、$(\alpha\wedge\beta)$、$(\alpha\vee\beta)$、$(\alpha\rightarrow\alpha)$、$(\alpha\leftrightarrow\beta)$也是合式公式；
- 别无其他。

称一个满足上述条件中的(2)的表达式集合是**封闭**的。合式公式全体是最小的包含所有命题符号的封闭的表达式集。

归纳原理：令$P(\alpha)$是一个关于合式公式的性质，设
- 对所有命题符号$A_i$，性质$P(A_i)$都成立；
- 对所有的合式公式$\alpha$和$\beta$，如果$P(\alpha)$和$P(\beta)$成立，那么$P((\neg\alpha))$、$P((\alpha\wedge\beta))$、$P((\alpha\vee\beta))$、$P((\alpha\rightarrow\alpha))$、$P((\alpha\leftrightarrow\beta))$也成立，

那么$P(\alpha)$对所有合式公式都成立。

### 真值指派

定义真假值$\{T,F\}$。$S$是一个命题符号的集合，$S$上的一个真值指派$v$是从$S$到真假值的映射$v:S\rightarrow\{T,F\}$。令$\bar{S}$为只含有$S$中的命题符号的公式集。将真值指派$v$扩张到$\bar{S}$得到$\bar{v}:\bar{S}\rightarrow\{T,F\}$，满足：
- 对任意$A\in S$，$\bar{v}(A)=v(A)$；
- $\bar{v}((\neg\alpha))=\begin{cases}T, &\bar{v}(\alpha)=F\\F,&\text{其他}\end{cases}$;
- $\bar{v}((\alpha\wedge\beta))=\begin{cases}T, &\bar{v}(\alpha)=T\text{并且}\bar{v}(\beta)=T\\F,&\text{其他}\end{cases}$;
- $\bar{v}((\alpha\vee\beta))=\begin{cases}T, &\bar{v}(\alpha)=T\text{或者}\bar{v}(\beta)=T\\F,&\text{其他}\end{cases}$;
- $\bar{v}((\alpha\rightarrow\beta))=\begin{cases}F, &\bar{v}(\alpha)=T\text{并且}\bar{v}(\beta)=F\\T,&\text{其他}\end{cases}$;
- $\bar{v}((\alpha\leftrightarrow\beta))=\begin{cases}T,&\bar{v}(\alpha)=\bar{v}(\beta)\\F,&\text{其他}\end{cases}$。

定理：对任意$S$上的真值指派$v$都有唯一的一个扩张$\bar{v}:\bar{S}\rightarrow\{T,F\}$满足上述条件。

称真值指派$v$**满足**一个公式$\varphi$，如果$\bar{v}(\varphi)=T$。

称公式集$\varSigma$**重言蕴含**公式$\tau$，记为$\varSigma\vDash\tau$，也称$\tau$是$\varSigma$的语义后承。即对所有满足$\Sigma$的真值指派$v$都满足$\tau$，即如果对所有的公式$\sigma\in\varSigma$有$\bar{v}(\sigma)=T$，则$\bar{v}(\tau)=T$。

称一个公式$\tau$为**重言式**，记作$\vDash\tau$，如果$\varnothing\vDash\tau$。即重言式在所有真值指派下为真。

如果$\sigma\vDash\tau$且$\tau\vDash\sigma$，称$\sigma$和$\tau$**重言等价**。

### 命题逻辑的一个推演系统

证明是从假设到结论的一根逻辑链条，公理集是证明的起点，通过推理规则得到新的公式。

引入命题逻辑的一个推演系统$L$，它的公理集$\varLambda$为：
- $\alpha\rightarrow(\beta\rightarrow\alpha)$；
- $(\alpha\rightarrow(\beta\rightarrow\gamma))\rightarrow((\alpha\rightarrow\beta)\rightarrow(\alpha\rightarrow\gamma))$；
- $(\neg\beta\rightarrow\alpha)\rightarrow((\neg\beta\rightarrow\alpha)\rightarrow\beta)$。

系统$L$中只有一条推理规则——**分离规则**：从$\alpha$和$\alpha\rightarrow\beta$可以推出$\beta$。

从公式集$\varGamma$到公式$\varphi$的一个**推演**（**证明**）是一个有穷的公式序列$(\alpha_0, \alpha_1, \cdots, \alpha_n)$，满足$\alpha_n=\varphi$且对所有的$i\le n$有$\alpha_i$属于$\varGamma\cup\varLambda$或存在$j,k<i$，$\alpha_i$是从$\alpha_j$和$\alpha_k$中由分离规则得到的，即$\alpha_k=\alpha_j\rightarrow\alpha_i$。

如果存在$\varGamma$到$\varphi$的一个推演，称$\varphi$为$\varGamma$的一个**内定理**，记作$\varGamma\vdash\varphi$。

**演绎定理**：设$\varGamma$是一个公式集，$\alpha$和$\beta$为公式，则$\varGamma\cup\{\alpha\}\vdash\beta$当且仅当$\varGamma\vdash\alpha\rightarrow\beta$。

### 命题逻辑的可靠性定理与完全性定理

可靠性定理：设$\varSigma$是一个公式集，$\tau$是一个公式。如果$\varSigma\vdash\tau$则$\varSigma\vDash\tau$。特别地，如果$\vdash\tau$则$\vDash\tau$，即$L$中的每个内定理都是重言式。

完全性定理：如果$\varSigma\vDash\tau$，则$\varSigma\vdash\tau$。

称一个公式集$\varSigma$是**不一致的**（**矛盾的**），如果存在某个公式$\alpha$使得$\varSigma\vdash\alpha$且$\varSigma\vdash\neg\alpha$。称$\varSigma$是一致的如果它不是不一致的。

引理：$\varSigma$是不一致的当且仅当对所有的公式$\beta$，$\varSigma\vdash\beta$。

引理：$\varSigma\vdash\tau$当且仅当$\varSigma\cup\{\neg\tau\}$不一致。

称公式集$\varSigma$是**可满足的**，如果存在一个真值指派满足$\varSigma$中的所有公式。称$\varSigma$是**不可满足**的如果$\varSigma$不是可满足的。

引理：下列命题等价：
- 如果$\varSigma$一致，则$\varSigma$可满足；
- 如果$\varSigma\vDash\tau$，则$\varSigma\vdash\tau$。

称一个公式集$\varDelta$是极大一致的，如果$\varDelta$是一致的，并且对任何不在$\varDelta$中的公式$\alpha$，$\varDelta\cup\{\alpha\}$都是不一致的。

林登鲍姆引理：每一个一致的公式集$\varSigma$都可以扩张成一个极大一致集$\varDelta$。

引理：任何极大一致集$\varDelta$都是可满足的。事实上，定义真值指派$v(A)=T$当且仅当$A\in\varDelta$，则$v$满足$\varDelta$中的所有公式。

定理（完全性定理的弱形式）：如果$\vDash\tau$，则$\vdash\tau$。即每个重言式都是$L$的内定理。

紧致性定理：公式集$\varSigma$是可满足的当且仅当$\varSigma$的每一个有穷子集都是可满足的。

这里指出几个观察
1. $L$的可靠性证明是在$L$之外进行的
2. 命题逻辑的定理集是可判定的，存在一个算法来告诉我们$\alpha$是否是$L$的一个定理——列真值表来看是否是重言式。这种算法对一阶逻辑是不存在的。


## 一阶逻辑和形式证明

### 一阶逻辑的语言的定义

一阶逻辑的语言$L$包括：

- 括号：左括号“(”和右括号“)”；
- 命题连词：$\neg$和$\rightarrow$；
- （全称）量词符号：$\forall$；
- 变元：$v_1,v_2,\cdots$
- 常数符号若干；
- 函数符号若干；
- 谓词符号若干；
- 等词符号（可以没有）：$\approx$。

**项**是公式中的对象，自上而下地如下定义：
- 每个变元$v_i$是项；
- 每个常数符号是项；
- 如果$t_1,t_2,\cdots,t_n$是项，$f$是$n$元函数符号，则$ft_1t_2\cdots t_n$是项。

（合式）公式是项构成的表达式：
- 如果$t_1,t_2,\cdots,t_n$是项，$P$是$n$元谓词符号，则$Pt_1t_2\cdots t_n$是合式公式，这样的公式称为**原子公式**，特别地，$\approx t_1t_2$是原子公式
- 如果$\alpha$和$\beta$是合式公式，那么$(\neg\alpha)$、$(\alpha\rightarrow\beta)$是合式公式；
- 如果$\alpha$是合式公式，那么$(\forall v_i\alpha)$是合式公式。

在表达上：
- 引入符号$\vee$、$\wedge$、$\leftrightarrow$等
- 引入$\exists x\alpha$作为$(\neg\forall(\neg\alpha))$的缩写
- 对于二元谓词，可以把谓词写在项的中间，$u\approx t$表示$\approx ut$，$u\not\approx t$表示$\neg(\approx ut)$。

定义**自由出现**：
- 如果$\alpha$是原子公式，那么$x$在$\alpha$中自由出现当且仅当$x$在$\alpha$中作为项出现；
- 如果$\alpha$是$\neg\beta$，那么$x$在$\alpha$中自由出现当且仅当$x$在$\beta$中自由出现；
- 如果$\alpha$是$\alpha_1\rightarrow\alpha_2$，那么$x$在$\alpha$中自由出现当且仅当$x$在$\alpha_1$中自由出现或者$x$在$\alpha_2$中自由出现；
- 如果$\alpha$是$\forall v_i\beta$，那么$x$在$\alpha$中自由出现当且仅当$x$在$\beta$中自由出现且$x\ne v_i$。

如果变量出现但不是自由出现，则称为**约束出现**。如果公式$\alpha$中的变元都是约束出现，那么称$\alpha$是一个**闭公式**或**语句**。

公式中变元的**替换**，在公式$\alpha$中将变元$x$在其自由出现的地方用项$t$代替的公式，记作$\alpha^x_t$，递归定义如下：
- 如果$\alpha$是原子公式，那么$\alpha^x_t$是$\alpha$中所有$x$用$t$替代后得到的表达式；
- $(\neg\alpha)^x_t=(\neg\alpha^x_t)$；
- $(\alpha\rightarrow\beta)^x_t=(\alpha^x_t\rightarrow\beta^x_t)$；
- $(\forall y\alpha)^x_t=\begin{cases}\forall y\alpha,&x=y\\\forall y(\alpha^x_t),&x\ne y\end{cases}$。

### 一阶逻辑的一个公理系统

一阶逻辑的推理系统和命题逻辑类似，推理规则依然只有分离规则，公理集$\varLambda$包含以下内容：
- 命题逻辑公理中(A1)、(A2)、(A3)的一阶公式；
- $\forall x\alpha\rightarrow\alpha^x_t$，其中项$t$可以在$\alpha$中替代$x$；
- $\forall x(\alpha\rightarrow\beta)\rightarrow(\forall x\alpha\rightarrow\forall x\beta)$；
- $\alpha\rightarrow\forall x\alpha$，其中$x$不在$\alpha$中自由出现。
- $x\approx x$
- $x\approx y\rightarrow(\alpha\rightarrow\alpha')$，其中$\alpha$是原子公式，$\alpha'$是将$\alpha$中若干个$x$替换为$y$得到的公式。

如果一阶公式$\alpha$是原子公式（一个谓词公式）或全称公式（形如$\forall\beta$），则称为**素公式**。对任何一阶公式$\varphi$，将所有素子公式替换为命题符号（把一阶的新增内容替换成命题符号），就得到一个命题逻辑中的公式$\varphi'$。如果$\varphi'$是命题逻辑中的公理或重言式，那么$\varphi$就是形如公理或者一阶意义下的重言式。

定理（一阶意义的完全性定理）：如果$\varphi$是一个一阶意义下的重言式，则$\vdash\varphi$，即$\varphi$是一阶逻辑的一个内定理。

第二组公理称为**替换公理**，项$t$可以在$\alpha$中替代$x$，是指替换前自由出现的变元不能因替换而变得受约束。精确定义如下：
- 如果$\alpha$是原子公式，那么$t$总可以在$\alpha$中替代$x$；
- 如果$\alpha$是$\neg\beta$，那么$t$可以在$\alpha$中替代$x$当且仅当$t$可以在$\beta$中替代$x$；
- 如果$\alpha$是$\alpha_1\rightarrow\alpha_2$，那么$t$可以在$\alpha$中替代$x$当且仅当$t$可以在$\alpha_1$中替代$x$且$t$可以在$\alpha_2$中替代$x$；
- 如果$\alpha$是$\forall y\beta$，那么$t$可以在$\alpha$中替代$x$当且仅当$x$不在$\alpha$中自由出现；或$y$不在$t$中出现并且$t$在$\beta$中可以替换$x$。

第三组和第四组公理可以证明概括定理，即如果没有使用$x$的任何假设就证明了$\alpha(x)$，那么这个假设对任意$x$都成立，即：

**概括定理**：如果$\varGamma\vdash\varphi$，并且$x$不在$\varGamma$的任何公式中自由出现，那么$\varGamma\vdash\forall x\varphi$。

